
@model TablesDTO

@{
    ViewData["Title"] = "جداول السيستم";
    var isUserManager = (bool)ViewData["isGeneralManager"];

}

@if(isUserManager)
{
    
<div class="row card mt-5">
      <div class="d-flex justify-content-between align-items-center">
        <h4 class="mt-3">اسماء الموظفين</h4>
        <div class="tabel-search-box mt-4 ms-9" >
            <input type="text" class="table-search border-0" placeholder="بحث بالأسم أو الكود" aria-label="Example text with button addon" aria-describedby="button-addon1">
            <button class="table-search" type="button" id="button-addon1">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
  <div class="table-responsive">
    <table class="table align-items-center mb-0">
      <thead>
        <tr>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">كود الموظف</th> 
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">اسم الموظف</th>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">رقم التلفون</th>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"></th>
         
        </tr>
      </thead>
      <tbody>
        @foreach(var record in Model.Employees)
        {    
            <tr>
                <td>
                <div class="d-flex px-2">
                    <div class="my-auto">
                    <h6 class="mb-0 text-xs">@record.Code</h6>
                    </div>
                </div>
                </td>

                <td>
                <div class="d-flex px-2">
                    <div class="my-auto">
                    <h6 class="mb-0 text-xs">@record.Name</h6>
                    </div>
                </div>
                </td>
        
                <td>
                <p dir="rtl" class="text-xs font-weight-normal mb-0">@record.PhoneNumber</p>
                </td>

                <td class="align-middle">
                    <a class="text-secondary font-weight-bold text-xs" asp-area="" asp-action="DetailsOfEmployee" asp-controller="Account" asp-route-id="@record.Id">
                    <span class="material-symbols-outlined">
                        <i title="تفاصيل" class="material-icons-round opacity-10">info</i>
                    </span>

                    </a>
                </td>
            </tr>

        }
      </tbody>
    </table>
  </div>
  </div>

}

<div class="card row mt-5">
    <div class="d-flex justify-content-between align-items-center">
        <h4 class="mt-3">أسماء العملاء</h4>
        <div class="tabel-search-box mt-4 ms-9" >
            <input type="text" class="table-search border-0"  placeholder="بحث بالأسم أو الكود" aria-label="Example text with button addon" aria-describedby="button-addon1">
            <button class="table-search" type="button" id="button-addon1">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
  <div class="table-responsive">
    <table class="table align-items-center mb-0">
      <thead>
        <tr>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">كود الموظف</th>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">اسم العميل</th>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">رقم تلفون </th>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">حاله الموظف</th>
          <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"></th>
         
        </tr>
      </thead>
      <tbody>
                @foreach(var record in Model.Clients)
                {
                    <tr>
                      <td>
                        <div class="d-flex px-2">
                          <div class="my-auto">
                            <h6 class="mb-0 text-xs">@record.Code</h6>
                          </div>
                        </div>
                      </td>

                      <td>
                        <div class="d-flex px-2">
                          <div class="my-auto">
                            <h6 class="mb-0 text-xs">@record.Name</h6>
                          </div>
                        </div>
                      </td>
                      <td>
                        <p dir="rtl" class="text-xs font-weight-normal mb-0">@record.PhoneNumber</p>
                      </td>
                        <td>
                            <p style="margin-right:20px" dir="rtl" class="text-xs font-weight-normal mb-0">@(record.Status.GetAttribute<DisplayAttribute>().Name)</p>
                        </td>
                      <td class="align-middle">
                          <a class="text-secondary font-weight-bold text-xs" asp-area="" asp-action="details" asp-controller="Client" asp-route-clientId="@record.Id">
                            <span class="material-symbols-outlined">
                              <i title="تفاصيل" class="material-icons-round opacity-10">info</i>
                            </span>

                          </a>

                        <a class="text-secondary font-weight-bold text-xs" href="#">
                            <span   class="material-symbols-outlined">
                              <i title="مسح" class="material-icons-round opacity-10" onclick="del(event,@(record.Id.ToString()))">delete</i>
                            </span>
                        </a>
                      </td>
                </tr>

                }
      </tbody>
    </table>
  </div>
  </div>

